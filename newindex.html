<html>
    <head>
        <title>Hopscotch</title>

        <script src="jquery-1.12.0.min.js"></script>
        <script>
        // Google Analytics Tracking Script
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-73402005-1', 'auto');
            ga('send', 'pageview');
        </script>
        <script>


        $(document).ready(function(){
            var w = $(window).width(); // necessary for left-positioning, which are in %s of total width. 
            var n_blocks = $('.block').length;
            var block_width = $('.block').width()

            function draw_paths(){
                // draw_paths.js will place choose block locations and draw lines, returning block locations.
                var block_locations = [];
                
                var n_lines = n_blocks-1;

                // Ordered pairs in TOP, LEFT
                // in PIXEL / PERCENTAGE amounts

                block_locations[0] = 100;
                block_locations[1] = 0.5;
                block_locations[2] = 300;
                block_locations[3] = 0.5;
                block_locations[4] = 500;
                block_locations[5] = 0.5;
                block_locations[6] = 700;
                block_locations[7] = 0.5;
                block_locations[8] = 900;
                block_locations[9] = 0.5;
                block_locations[10] = 1100;
                block_locations[11] = 0.5;
                block_locations[12] = 1300;
                block_locations[13] = 0.5;

                return block_locations;
            }

            var block_locations = draw_paths();
            //console.log(block_locations);

            for(i=0; i<=n_blocks; i++){
                $('.block').eq(i).css("top",block_locations[i*2]);
                $('.block').eq(i).css("left",block_locations[i*2+1]*w - block_width/2);

                // Now some rotation to the blocks. 
                var max_rotation = 30;
                var rotation = Math.floor((Math.random()-0.5)*max_rotation);
                $('.block').eq(i).css("transform","rotate("+rotation+"deg");
                $('.block').eq(i).css("-ms-transform","rotate("+rotation+"deg");
                $('.block').eq(i).css("-webkit-transform","rotate("+rotation+"deg");
            }

            var n_imgs = $('img').length;
            // fit covers automatically to size of images. 
            for(var i = 0; i < n_imgs; i++){
                var selected = $('img').eq(i);
                var w = selected.width();
                var h = selected.height();
                var selected_parent = selected.parent();
                selected_parent.children(".cover").css("width",w+"px");
                selected_parent.children(".cover").css("height",h+"px");
                selected_parent.children(".cover").css("line-height",h+"px");
            }
            $('.cover').hover(function(){
                // When you hover over an image block, give translucent overlay.
                $(this).css("background-color","rgba(255,255,255,0.3)");
                $(this).css("color","rgba(0,0,0,1)");
            },function(){
                $(this).css("background-color","rgba(255,255,255,0)");
                $(this).css("color","rgba(0,0,0,0)");
            });

            $('.cover').click(function(){
                var clicked_id = $(this).attr("id");
                $("#overlay_"+clicked_id).css("display","block");
                $("#anti_overlay").css("display","block");
            });
            $('#anti_overlay').click(function(){
                $('.overlay').css("display","none");
                $('#anti_overlay').css("display","none");
            });

        });
      </script>

        <link rel="stylesheet" src="http://meyerweb.com/eric/tools/css/reset/reset.css">
        <style>

            @font-face {
                font-family: 'Apercu';
                src: url(ApercuProRegular.ttf) format("truetype");
            }

            body{
                font-family: 'Apercu',sans-serif;
                font-weight: 300;
                text-align: center;
                line-height: 180%;
            }

            a{
                text-decoration: none;
                color: black;
                background: #ccffee;
                padding: 1px;
            }

            h1{
                font-size: 38px;
                font-weight: 300;
                letter-spacing: .14em;
                width: 100%;
                text-align: center;
            }
            h1 a{
                text-decoration: none;
                background: white;
            }

            #lines{
                /* SVG element */
                z-index: 0;
                width: 100%;
                min-height: 800px;
                position: absolute;
                top: 0;
                left: 0;
            }

            #blocks{
                z-index: 10;
                position: absolute;
                top: 0;
                left: 0;
                
            }
            .block{
                width: 300px;
                position: absolute;
                padding: 10px;
                background: white;
            }
            .block img{
                width: 300px;
                background: #ccffee;
                padding: 4px;
            }
            
            .cover{
                /* these cover up images for text overlay */
                z-index: 15;
                background-color: rgba(255,255,255,0);
                color: rgba(225,225,225,0);
                padding: 10px;
                position: absolute;
                left: 0;
                top: 0;
                cursor: pointer;
                font-size: 25px;
            }

            .overlay{
                display: none;
                width: 100%;
                height: 500px;
                white-space: nowrap;
                overflow-x: scroll;
                overflow-y: hidden;
                position: fixed;
                top: 5%;
                left: 0px;
                z-index: 50;
                background-color: rgba(255,255,255,1);
                padding: 20px;
            }
            #anti_overlay{
                /* invisible box that allows you to click-out of overlay */
                display: none;
                width: 100%;
                height: 100%;
                position: fixed;
                top: 0;
                left: 0;
                background-color: rgba(0,0,0,0);
            }

            .overlay::-webkit-scrollbar {
                display: none;
            }

            .overlay img{
                height: 500px;
                width: auto;
                display: inline-block;
                z-index: 5;
                margin: 0px 10px;
            }


        </style>
    </head>
    <body>

        <svg id="lines" xmlns="http://www.w3.org/2000/svg">
            <!-- SVG lines between content blocks will be inserted here. -->
        </svg>

        <div id="blocks">

            <div id="anti_overlay">
            </div>

            <div class="block">
                <h1><a href="">Hopscotch</a></h1>
            </div>

            <div class="block">
                Hopscotch is an overalls project.
            </div>

            <div class="block">
                <img src="images/layla.jpg" title='Pair No.1, Layla.' />
                <div class="cover" id="layla">Pair No.1, Layla</div>
            </div>

            <div class="block">
                <img src="images/avery.jpg" title='Pair No.2, Avery.' />
                <div class="cover" id="avery">Pair No.2, Avery</div>
            </div>

            <div class="block">
                <h1><a href="">Process</a></h1>
            </div>

            <div class="block">
                <h1><a href="">About</a></h1>
            </div>

            <div class="block">
                &copy; Hopscotch. Thanks, <a href='http://www.itsnicethat.com/articles/graphic-design-peter-mendelsund'>Peter Mendelsund</a>, the <a href="http://www.brown.edu/academics/creative-arts-council/">Brown CAC</a>, Jordan Beard, Polina Godz, and all our friends.
            </div>


            <div class="overlay" id="overlay_layla">
            </div>

            <div class="overlay" id="overlay_avery">
            </div>
        </div>


    </body>

</html>
